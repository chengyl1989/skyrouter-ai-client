# 功能开发模板

此模板用于指导新功能的标准化开发流程。每次开发新功能时，请按照此模板执行。

## 📋 功能开发检查清单

### 阶段1: 规划设计 (Planning & Design)

- [ ] **需求分析**
  - [ ] 明确功能需求和用户故事
  - [ ] 分析技术可行性
  - [ ] 评估开发工作量 (预计: ___ 小时)
  - [ ] 确定验收标准

- [ ] **技术设计**
  - [ ] 组件/模块设计
  - [ ] API接口设计
  - [ ] 数据结构设计
  - [ ] 用户界面设计/线框图

- [ ] **分支创建**
  ```bash
  git checkout -b feature/功能名称
  ```

### 阶段2: 开发实现 (Development)

- [ ] **代码编写**
  - [ ] 创建必要的组件文件
  - [ ] 实现核心业务逻辑
  - [ ] 添加类型定义
  - [ ] 遵循代码规范和风格

- [ ] **单元测试编写**
  - [ ] 为核心组件编写测试
  - [ ] 测试覆盖率 ≥ 80%
  - [ ] 测试边界条件

- [ ] **实时验证**
  ```bash
  # 代码风格检查
  npm run lint
  
  # 类型检查
  npm run type-check
  
  # 单元测试
  npm run test
  ```

### 阶段3: 集成测试 (Integration Testing)

- [ ] **集成测试**
  - [ ] 编写组件集成测试
  - [ ] API端点测试
  - [ ] 状态管理测试

- [ ] **手动功能测试**
  - [ ] 基本功能验证
  - [ ] 异常情况处理
  - [ ] 用户交互测试
  - [ ] 响应式设计测试

### 阶段4: 完整验证 (Full Validation)

- [ ] **运行完整验证脚本**
  ```bash
  ./scripts/validate-feature.sh
  ```

- [ ] **验证项目检查**
  - [ ] ✅ ESLint检查通过
  - [ ] ✅ TypeScript检查通过  
  - [ ] ✅ 单元测试通过
  - [ ] ✅ 集成测试通过
  - [ ] ✅ 构建成功
  - [ ] ✅ 安全扫描通过

### 阶段5: 文档更新 (Documentation)

- [ ] **代码文档**
  - [ ] 添加JSDoc注释
  - [ ] 更新组件说明
  - [ ] 添加使用示例

- [ ] **项目文档**
  - [ ] 更新README.md
  - [ ] 更新CHANGELOG.md
  - [ ] 添加功能使用说明

### 阶段6: 提交审查 (Submit & Review)

- [ ] **代码提交**
  ```bash
  git add .
  git commit -m "feat: 功能描述"
  git push origin feature/功能名称
  ```

- [ ] **创建Pull Request**
  - [ ] 填写详细的PR描述
  - [ ] 添加相关截图/演示
  - [ ] 关联相关Issue
  - [ ] 请求代码审查

- [ ] **响应审查意见**
  - [ ] 修复发现的问题
  - [ ] 回复审查评论
  - [ ] 更新相关文档

### 阶段7: 部署验证 (Deployment & Verification)

- [ ] **测试环境部署**
  ```bash
  ./scripts/deploy.sh staging
  ```

- [ ] **E2E测试**
  ```bash
  npm run test:e2e
  ```

- [ ] **功能验证**
  - [ ] 核心功能正常
  - [ ] 用户界面正确
  - [ ] 性能表现良好
  - [ ] 错误处理正常

- [ ] **生产环境部署**
  ```bash
  ./scripts/deploy.sh production
  ```

## 📝 功能信息记录

### 基本信息
- **功能名称**: _______________
- **开发者**: _______________
- **开始日期**: _______________
- **预计完成**: _______________
- **实际完成**: _______________

### 技术实现
- **主要组件**: _______________
- **依赖项**: _______________
- **API端点**: _______________
- **状态管理**: _______________

### 测试覆盖
- **单元测试文件**: _______________
- **集成测试文件**: _______________
- **E2E测试场景**: _______________
- **测试覆盖率**: _______________%

### 性能指标
- **构建大小影响**: _______________
- **加载时间**: _______________
- **内存使用**: _______________
- **API响应时间**: _______________

## 🔄 标准化命令快捷方式

```bash
# 快速验证当前开发状态
alias check="npm run lint && npm run type-check && npm run test -- --watchAll=false"

# 完整功能验证
alias validate="./scripts/validate-feature.sh"

# 格式化代码
alias format="npm run format"

# 运行所有检查
alias check-all="npm run check-all"
```

## ⚠️ 常见问题

### Q: 测试覆盖率不足怎么办？
A: 为核心逻辑和组件添加更多测试用例，确保覆盖边界条件和错误处理。

### Q: ESLint检查失败？
A: 运行 `npm run lint` 查看具体问题，大多数问题可以通过 `npm run format` 自动修复。

### Q: 构建失败？
A: 检查TypeScript类型错误，确保所有导入路径正确，依赖项已安装。

### Q: 部署失败？
A: 检查环境变量配置，确保所有必需的服务正常运行。

## 📊 质量标准

每个新功能必须满足以下质量标准：

- ✅ **代码质量**: ESLint 0错误，TypeScript 0错误
- ✅ **测试覆盖**: 单元测试覆盖率 ≥ 80%
- ✅ **性能影响**: 构建大小增长 < 10%
- ✅ **文档完整**: 包含使用说明和API文档
- ✅ **用户体验**: 功能直观易用，错误处理友好

---

**记住**: 质量比速度更重要。花时间做好测试和文档，将大大减少后期维护成本！